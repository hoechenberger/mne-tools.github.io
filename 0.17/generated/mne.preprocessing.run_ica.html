<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>mne.preprocessing.run_ica &#8212; MNE 0.17.1 documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/reset-syntax.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />

    <script type="text/javascript" src="../_static/copybutton.js"></script>


    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37225609-1']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>


    <link rel="stylesheet" href="../_static/style.css " type="text/css" />
    <link rel="stylesheet" href="../_static/font-awesome.css" type="text/css" />
    <link rel="stylesheet" href="../_static/flag-icon.css" type="text/css" />



    <script type="text/javascript">
    !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);
    js.id=id;js.src="https://platform.twitter.com/widgets.js";
    fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
    </script>



    <script type="text/javascript">
    (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
    })();
    </script>


  <link rel="canonical" href="https://mne.tools/stable/index.html" />
</head><body>





  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><span><img src="../_static/mne_logo_small.png"></span>
           </a>
        <span class="navbar-text navbar-version pull-left"><b>0.17.1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../getting_started.html">Install</a></li>
                <li><a href="../documentation.html">Documentation</a></li>
                <li><a href="../python_reference.html">API</a></li>
                <li><a href="../glossary.html">Glossary</a></li>
                <li><a href="../auto_examples/index.html">Examples</a></li>
                <li><a href="../contributing.html">Contribute</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
            
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
<div class="navbar-form navbar-right navbar-btn dropdown btn-group-sm" style="margin-left: 20px; margin-top: 5px; margin-bottom: 5px">
  <button type="button" class="btn btn-primary navbar-btn dropdown-toggle" id="dropdownMenu1" data-toggle="dropdown">
    v0.17.1
    <span class="caret"></span>
  </button>
  <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
    <li><a href="https://mne-tools.github.io/dev/index.html">Development</a></li>
    <li><a href="https://mne-tools.github.io/stable/index.html">v0.17 (stable)</a></li>
    <li><a href="https://mne-tools.github.io/0.16/index.html">v0.16</a></li>
    <li><a href="https://mne-tools.github.io/0.15/index.html">v0.15</a></li>
    <li><a href="https://mne-tools.github.io/0.14/index.html">v0.14</a></li>
    <li><a href="https://mne-tools.github.io/0.13/index.html">v0.13</a></li>
    <li><a href="https://mne-tools.github.io/0.12/index.html">v0.12</a></li>
    <li><a href="https://mne-tools.github.io/0.11/index.html">v0.11</a></li>
  </ul>
</div>


            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          

        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/mne_logo_small.png" alt="Logo"/>
            </a></p><ul>
<li><a class="reference internal" href="#">mne.preprocessing.run_ica</a></li>
</ul>

<form action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="col-md-12 content">
      
  <div class="section" id="mne-preprocessing-run-ica">
<h1>mne.preprocessing.run_ica<a class="headerlink" href="#mne-preprocessing-run-ica" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="mne.preprocessing.run_ica">
<code class="descclassname">mne.preprocessing.</code><code class="descname">run_ica</code><span class="sig-paren">(</span><em>raw</em>, <em>n_components</em>, <em>max_pca_components=100</em>, <em>n_pca_components=64</em>, <em>noise_cov=None</em>, <em>random_state=None</em>, <em>picks=None</em>, <em>start=None</em>, <em>stop=None</em>, <em>start_find=None</em>, <em>stop_find=None</em>, <em>ecg_ch=None</em>, <em>ecg_score_func='pearsonr'</em>, <em>ecg_criterion=0.1</em>, <em>eog_ch=None</em>, <em>eog_score_func='pearsonr'</em>, <em>eog_criterion=0.1</em>, <em>skew_criterion=-1</em>, <em>kurt_criterion=-1</em>, <em>var_criterion=0</em>, <em>add_nodes=None</em>, <em>verbose=None</em>, <em>method='fastica'</em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/mne-tools/mne-python/blob/maint/0.17/mne/preprocessing/ica.py#L2135-L2294"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mne.preprocessing.run_ica" title="Permalink to this definition">¶</a></dt>
<dd><p>Run ICA decomposition on raw data and identify artifact sources.</p>
<p>This function implements an automated artifact removal work flow.</p>
<p>Hints and caveats:</p>
<blockquote>
<div><ul class="simple">
<li>It is highly recommended to bandpass filter ECG and EOG
data and pass them instead of the channel names as ecg_ch and eog_ch
arguments.</li>
<li>Please check your results. Detection by kurtosis and variance
can be powerful but misclassification of brain signals as
noise cannot be precluded. If you are not sure set those to None.</li>
<li>Consider using shorter times for start_find and stop_find than
for start and stop. It can save you much time.</li>
</ul>
</div></blockquote>
<p>Example invocation (taking advantage of defaults):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ica</span> <span class="o">=</span> <span class="n">run_ica</span><span class="p">(</span><span class="n">raw</span><span class="p">,</span> <span class="n">n_components</span><span class="o">=.</span><span class="mi">9</span><span class="p">,</span> <span class="n">start_find</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span> <span class="n">stop_find</span><span class="o">=</span><span class="mi">12000</span><span class="p">,</span>
              <span class="n">ecg_ch</span><span class="o">=</span><span class="s1">&#39;MEG 1531&#39;</span><span class="p">,</span> <span class="n">eog_ch</span><span class="o">=</span><span class="s1">&#39;EOG 061&#39;</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>raw</strong> <span class="classifier-delimiter">:</span> <span class="classifier">instance of Raw</span></dt>
<dd><p class="first last">The raw data to decompose.</p>
</dd>
<dt><strong>n_components</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int | float | None</span></dt>
<dd><p class="first last">The number of components used for ICA decomposition. If int, it must be
smaller then max_pca_components. If None, all PCA components will be
used. If float between 0 and 1 components can will be selected by the
cumulative percentage of explained variance.</p>
</dd>
<dt><strong>max_pca_components</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int | None</span></dt>
<dd><p class="first last">The number of components used for PCA decomposition. If None, no
dimension reduction will be applied and max_pca_components will equal
the number of channels supplied on decomposing data.</p>
</dd>
<dt><strong>n_pca_components</strong></dt>
<dd><p class="first last">The number of PCA components used after ICA recomposition. The ensuing
attribute allows to balance noise reduction against potential loss of
features due to dimensionality reduction. If greater than
<code class="docutils literal notranslate"><span class="pre">self.n_components_</span></code>, the next <code class="docutils literal notranslate"><span class="pre">'n_pca_components'</span></code> minus
<code class="docutils literal notranslate"><span class="pre">'n_components_'</span></code> PCA components will be added before restoring the
sensor space data. The attribute gets updated each time the according
parameter for in .pick_sources_raw or .pick_sources_epochs is changed.</p>
</dd>
<dt><strong>noise_cov</strong> <span class="classifier-delimiter">:</span> <span class="classifier">None | instance of mne.cov.Covariance</span></dt>
<dd><p class="first last">Noise covariance used for whitening. If None, channels are just
z-scored.</p>
</dd>
<dt><strong>random_state</strong> <span class="classifier-delimiter">:</span> <span class="classifier">None | int | instance of np.random.RandomState</span></dt>
<dd><p class="first last">np.random.RandomState to initialize the FastICA estimation.
As the estimation is non-deterministic it can be useful to
fix the seed to have reproducible results.</p>
</dd>
<dt><strong>picks</strong> <span class="classifier-delimiter">:</span> <span class="classifier">array-like of int</span></dt>
<dd><p class="first last">Channels to be included. This selection remains throughout the
initialized ICA solution. If None only good data channels are used.</p>
</dd>
<dt><strong>start</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int | float | None</span></dt>
<dd><p class="first last">First sample to include for decomposition. If float, data will be
interpreted as time in seconds. If None, data will be used from the
first sample.</p>
</dd>
<dt><strong>stop</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int | float | None</span></dt>
<dd><p class="first last">Last sample to not include for decomposition. If float, data will be
interpreted as time in seconds. If None, data will be used to the
last sample.</p>
</dd>
<dt><strong>start_find</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int | float | None</span></dt>
<dd><p class="first last">First sample to include for artifact search. If float, data will be
interpreted as time in seconds. If None, data will be used from the
first sample.</p>
</dd>
<dt><strong>stop_find</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int | float | None</span></dt>
<dd><p class="first last">Last sample to not include for artifact search. If float, data will be
interpreted as time in seconds. If None, data will be used to the last
sample.</p>
</dd>
<dt><strong>ecg_ch</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str | ndarray | None</span></dt>
<dd><p class="first last">The <code class="docutils literal notranslate"><span class="pre">target</span></code> argument passed to ica.find_sources_raw. Either the
name of the ECG channel or the ECG time series. If None, this step
will be skipped.</p>
</dd>
<dt><strong>ecg_score_func</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str | callable</span></dt>
<dd><p class="first last">The <code class="docutils literal notranslate"><span class="pre">score_func</span></code> argument passed to ica.find_sources_raw. Either
the name of function supported by ICA or a custom function.</p>
</dd>
<dt><strong>ecg_criterion</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float | int | list-like | slice</span></dt>
<dd><p class="first last">The indices of the sorted skewness scores. If float, sources with
scores smaller than the criterion will be dropped. Else, the scores
sorted in descending order will be indexed accordingly.
E.g. range(2) would return the two sources with the highest score.
If None, this step will be skipped.</p>
</dd>
<dt><strong>eog_ch</strong> <span class="classifier-delimiter">:</span> <span class="classifier">list | str | ndarray | None</span></dt>
<dd><p class="first last">The <code class="docutils literal notranslate"><span class="pre">target</span></code> argument or the list of target arguments subsequently
passed to ica.find_sources_raw. Either the name of the vertical EOG
channel or the corresponding EOG time series. If None, this step
will be skipped.</p>
</dd>
<dt><strong>eog_score_func</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str | callable</span></dt>
<dd><p class="first last">The <code class="docutils literal notranslate"><span class="pre">score_func</span></code> argument passed to ica.find_sources_raw. Either
the name of function supported by ICA or a custom function.</p>
</dd>
<dt><strong>eog_criterion</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float | int | list-like | slice</span></dt>
<dd><p class="first last">The indices of the sorted skewness scores. If float, sources with
scores smaller than the criterion will be dropped. Else, the scores
sorted in descending order will be indexed accordingly.
E.g. range(2) would return the two sources with the highest score.
If None, this step will be skipped.</p>
</dd>
<dt><strong>skew_criterion</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float | int | list-like | slice</span></dt>
<dd><p class="first last">The indices of the sorted skewness scores. If float, sources with
scores smaller than the criterion will be dropped. Else, the scores
sorted in descending order will be indexed accordingly.
E.g. range(2) would return the two sources with the highest score.
If None, this step will be skipped.</p>
</dd>
<dt><strong>kurt_criterion</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float | int | list-like | slice</span></dt>
<dd><p class="first last">The indices of the sorted skewness scores. If float, sources with
scores smaller than the criterion will be dropped. Else, the scores
sorted in descending order will be indexed accordingly.
E.g. range(2) would return the two sources with the highest score.
If None, this step will be skipped.</p>
</dd>
<dt><strong>var_criterion</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float | int | list-like | slice</span></dt>
<dd><p class="first last">The indices of the sorted skewness scores. If float, sources with
scores smaller than the criterion will be dropped. Else, the scores
sorted in descending order will be indexed accordingly.
E.g. range(2) would return the two sources with the highest score.
If None, this step will be skipped.</p>
</dd>
<dt><strong>add_nodes</strong> <span class="classifier-delimiter">:</span> <span class="classifier">list of ica_nodes</span></dt>
<dd><p class="first">Additional list if tuples carrying the following parameters:
(name : str, target : str | array, score_func : callable,
criterion : float | int | list-like | slice). This parameter is a
generalization of the artifact specific parameters above and has
the same structure. Example:</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">add_nodes</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;ECG phase lock&#39;</span><span class="p">,</span> <span class="n">ECG</span> <span class="mi">01</span><span class="s1">&#39;, my_phase_lock_function, 0.5)</span>
</pre></div>
</div>
</dd>
<dt><strong>verbose</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, str, int, or None</span></dt>
<dd><p class="first last">If not None, override default verbose level (see <a class="reference internal" href="mne.verbose.html#mne.verbose" title="mne.verbose"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.verbose()</span></code></a>
and <a class="reference internal" href="../auto_tutorials/plot_configuration.html#tut-logging"><span class="std std-ref">Logging documentation</span></a> for more).</p>
</dd>
<dt><strong>method</strong> <span class="classifier-delimiter">:</span> <span class="classifier">{‘fastica’, ‘picard’}</span></dt>
<dd><p class="first last">The ICA method to use. Defaults to ‘fastica’.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>ica</strong> <span class="classifier-delimiter">:</span> <span class="classifier">instance of ICA</span></dt>
<dd><p class="first last">The ICA object with detected artifact sources marked for exclusion.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div style='clear:both'></div></div>


    </div>
    
  </div>
</div>
<footer class="footer">
  <div class="container"><img src="../_static/institutions.png" alt="Institutions"></div>
  <div class="container">
    <ul class="list-inline">
      <li><a href="https://github.com/mne-tools/mne-python">GitHub</a></li>
      <li>·</li>
      <li><a href="https://mail.nmr.mgh.harvard.edu/mailman/listinfo/mne_analysis">Mailing list</a></li>
      <li>·</li>
      <li><a href="https://gitter.im/mne-tools/mne-python">Gitter</a></li>
      <li>·</li>
      <li><a href="whats_new.html">What's new</a></li>
      <li>·</li>
      <li><a href="faq.html#cite">Cite MNE</a></li>
      <li class="pull-right"><a href="#">Back to top</a></li>
    </ul>
    <p>&copy; Copyright 2012-2019, MNE Developers. Last updated on 2019-02-22.</p>
  </div>
</footer>
<script src="https://mne.tools/versionwarning.js"></script>
  </body>
</html>