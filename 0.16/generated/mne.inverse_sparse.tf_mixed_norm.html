<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>mne.inverse_sparse.tf_mixed_norm &#8212; MNE 0.16.1 documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />

    <script type="text/javascript" src="../_static/copybutton.js"></script>


    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37225609-1']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>


    <link rel="stylesheet" href="../_static/style.css " type="text/css" />
    <link rel="stylesheet" href="../_static/font-awesome.css" type="text/css" />
    <link rel="stylesheet" href="../_static/flag-icon.css" type="text/css" />



    <script type="text/javascript">
    !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);
    js.id=id;js.src="https://platform.twitter.com/widgets.js";
    fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
    </script>



    <script type="text/javascript">
    (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
    })();
    </script>


  <link rel="canonical" href="https://mne.tools/stable/index.html" />
</head><body>





  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><span><img src="../_static/mne_logo_small.png"></span>
           </a>
        <span class="navbar-text navbar-version pull-left"><b>0.16.1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../getting_started.html">Install</a></li>
                <li><a href="../documentation.html">Documentation</a></li>
                <li><a href="../python_reference.html">API</a></li>
                <li><a href="../auto_examples/index.html">Examples</a></li>
                <li><a href="../contributing.html">Contribute</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
            
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
<div class="navbar-form navbar-right navbar-btn dropdown btn-group-sm" style="margin-left: 20px; margin-top: 5px; margin-bottom: 5px">
  <button type="button" class="btn btn-primary navbar-btn dropdown-toggle" id="dropdownMenu1" data-toggle="dropdown">
    v0.16.1
    <span class="caret"></span>
  </button>
  <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
    <li><a href="https://mne-tools.github.io/dev/index.html">Development</a></li>
    <li><a href="https://mne-tools.github.io/stable/index.html">v0.16 (stable)</a></li>
    <li><a href="https://mne-tools.github.io/0.15/index.html">v0.15</a></li>
    <li><a href="https://mne-tools.github.io/0.14/index.html">v0.14</a></li>
    <li><a href="https://mne-tools.github.io/0.13/index.html">v0.13</a></li>
    <li><a href="https://mne-tools.github.io/0.12/index.html">v0.12</a></li>
    <li><a href="https://mne-tools.github.io/0.11/index.html">v0.11</a></li>
  </ul>
</div>


            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          

        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/mne_logo_small.png" alt="Logo"/>
            </a></p><ul>
<li><a class="reference internal" href="#">mne.inverse_sparse.tf_mixed_norm</a><ul>
<li><a class="reference internal" href="#examples-using-mne-inverse-sparse-tf-mixed-norm">Examples using <code class="docutils literal notranslate"><span class="pre">mne.inverse_sparse.tf_mixed_norm</span></code></a></li>
</ul>
</li>
</ul>

<form action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="col-md-12 content">
      
  <div class="section" id="mne-inverse-sparse-tf-mixed-norm">
<h1>mne.inverse_sparse.tf_mixed_norm<a class="headerlink" href="#mne-inverse-sparse-tf-mixed-norm" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="mne.inverse_sparse.tf_mixed_norm">
<code class="descclassname">mne.inverse_sparse.</code><code class="descname">tf_mixed_norm</code><span class="sig-paren">(</span><em>evoked</em>, <em>forward</em>, <em>noise_cov</em>, <em>alpha_space=None</em>, <em>alpha_time=None</em>, <em>loose='auto'</em>, <em>depth=0.8</em>, <em>maxit=3000</em>, <em>tol=0.0001</em>, <em>weights=None</em>, <em>weights_min=None</em>, <em>pca=True</em>, <em>debias=True</em>, <em>wsize=64</em>, <em>tstep=4</em>, <em>window=0.02</em>, <em>return_residual=False</em>, <em>return_as_dipoles=False</em>, <em>alpha=None</em>, <em>l1_ratio=None</em>, <em>dgap_freq=10</em>, <em>verbose=None</em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/mne-tools/mne-python/blob/maint/0.16/mne/../doc/&lt;string&gt;#L512-L750"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mne.inverse_sparse.tf_mixed_norm" title="Permalink to this definition">¶</a></dt>
<dd><p>Time-Frequency Mixed-norm estimate (TF-MxNE).</p>
<p>Compute L1/L2 + L1 mixed-norm solution on time-frequency
dictionary. Works with evoked data <a class="reference internal" href="#reec6aab2e439-1" id="id1">[1]</a> <a class="reference internal" href="#reec6aab2e439-2" id="id2">[2]</a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>evoked</strong> <span class="classifier-delimiter">:</span> <span class="classifier">instance of Evoked</span></dt>
<dd><p class="first last">Evoked data to invert.</p>
</dd>
<dt><strong>forward</strong> <span class="classifier-delimiter">:</span> <span class="classifier">dict</span></dt>
<dd><p class="first last">Forward operator.</p>
</dd>
<dt><strong>noise_cov</strong> <span class="classifier-delimiter">:</span> <span class="classifier">instance of Covariance</span></dt>
<dd><p class="first last">Noise covariance to compute whitener.</p>
</dd>
<dt><strong>alpha_space</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float in [0, 100]</span></dt>
<dd><p class="first last">Regularization parameter for spatial sparsity. If larger than 100,
then no source will be active. alpha_space is deprecated in favor
of alpha and l1_ratio, and will be removed in 0.17.</p>
</dd>
<dt><strong>alpha_time</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float in [0, 100]</span></dt>
<dd><p class="first last">Regularization parameter for temporal sparsity. It set to 0,
no temporal regularization is applied. It this case, TF-MxNE is
equivalent to MxNE with L21 norm. alpha_time is deprecated in favor
of alpha and l1_ratio, and will be removed in 0.17.</p>
</dd>
<dt><strong>loose</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float in [0, 1] | ‘auto’</span></dt>
<dd><p class="first last">Value that weights the source variances of the dipole components
that are parallel (tangential) to the cortical surface. If loose
is 0 then the solution is computed with fixed orientation.
If loose is 1, it corresponds to free orientations.
The default value (‘auto’) is set to 0.2 for surface-oriented source
space and set to 1.0 for volumic or discrete source space.</p>
</dd>
<dt><strong>depth: None | float in [0, 1]</strong></dt>
<dd><p class="first last">Depth weighting coefficients. If None, no depth weighting is performed.</p>
</dd>
<dt><strong>maxit</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd><p class="first last">Maximum number of iterations.</p>
</dd>
<dt><strong>tol</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">Tolerance parameter.</p>
</dd>
<dt><strong>weights: None | array | SourceEstimate</strong></dt>
<dd><p class="first last">Weight for penalty in mixed_norm. Can be None or
1d array of length n_sources or a SourceEstimate e.g. obtained
with wMNE or dSPM or fMRI.</p>
</dd>
<dt><strong>weights_min: float</strong></dt>
<dd><p class="first last">Do not consider in the estimation sources for which weights
is less than weights_min.</p>
</dd>
<dt><strong>pca: bool</strong></dt>
<dd><p class="first last">If True the rank of the data is reduced to true dimension.</p>
</dd>
<dt><strong>debias: bool</strong></dt>
<dd><p class="first last">Remove coefficient amplitude bias due to L1 penalty.</p>
</dd>
<dt><strong>wsize: int or array-like</strong></dt>
<dd><p class="first last">Length of the STFT window in samples (must be a multiple of 4).
If an array is passed, multiple TF dictionaries are used (each having
its own wsize and tstep) and each entry of wsize must be a multiple
of 4. See <a class="reference internal" href="#reec6aab2e439-3" id="id3">[3]</a>.</p>
</dd>
<dt><strong>tstep: int or array-like</strong></dt>
<dd><p class="first last">Step between successive windows in samples (must be a multiple of 2,
a divider of wsize and smaller than wsize/2) (default: wsize/2).
If an array is passed, multiple TF dictionaries are used (each having
its own wsize and tstep), and each entry of tstep must be a multiple
of 2 and divide the corresponding entry of wsize. See <a class="reference internal" href="#reec6aab2e439-3" id="id4">[3]</a>.</p>
</dd>
<dt><strong>window</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float or (float, float)</span></dt>
<dd><p class="first last">Length of time window used to take care of edge artifacts in seconds.
It can be one float or float if the values are different for left
and right window length.</p>
</dd>
<dt><strong>return_residual</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool</span></dt>
<dd><p class="first last">If True, the residual is returned as an Evoked instance.</p>
</dd>
<dt><strong>return_as_dipoles</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool</span></dt>
<dd><p class="first last">If True, the sources are returned as a list of Dipole instances.</p>
</dd>
<dt><strong>alpha</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float in [0, 100) or None</span></dt>
<dd><p class="first last">Overall regularization parameter.
If alpha and l1_ratio are not None, alpha_space and alpha_time are
overriden by alpha * alpha_max * (1. - l1_ratio) and alpha * alpha_max
* l1_ratio. 0 means no regularization, 100 would give 0 active dipole.</p>
</dd>
<dt><strong>l1_ratio</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float in [0, 1] or None</span></dt>
<dd><p class="first last">Proportion of temporal regularization.
If l1_ratio and alpha are not None, alpha_space and alpha_time are
overriden by alpha * alpha_max * (1. - l1_ratio) and alpha * alpha_max
* l1_ratio. 0 means no time regularization aka MxNE.</p>
</dd>
<dt><strong>dgap_freq</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int or np.inf</span></dt>
<dd><p class="first last">The duality gap is evaluated every dgap_freq iterations.</p>
</dd>
<dt><strong>verbose</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool, str, int, or None</span></dt>
<dd><p class="first last">If not None, override default verbose level (see <a class="reference internal" href="mne.verbose.html#mne.verbose" title="mne.verbose"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.verbose()</span></code></a>
and <a class="reference internal" href="../auto_tutorials/plot_configuration.html#tut-logging"><span class="std std-ref">Logging documentation</span></a> for more).</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>stc</strong> <span class="classifier-delimiter">:</span> <span class="classifier">instance of SourceEstimate</span></dt>
<dd><p class="first last">Source time courses.</p>
</dd>
<dt><strong>residual</strong> <span class="classifier-delimiter">:</span> <span class="classifier">instance of Evoked</span></dt>
<dd><p class="first last">The residual a.k.a. data not explained by the sources.
Only returned if return_residual is True.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="mne.inverse_sparse.mixed_norm.html#mne.inverse_sparse.mixed_norm" title="mne.inverse_sparse.mixed_norm"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mixed_norm</span></code></a></p>
</div>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="reec6aab2e439-1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td><em>(<a class="fn-backref" href="#id1">1</a>, <a class="fn-backref" href="#id5">2</a>)</em> A. Gramfort, D. Strohmeier, J. Haueisen, M. Hamalainen, M. Kowalski
“Time-Frequency Mixed-Norm Estimates: Sparse M/EEG imaging with
non-stationary source activations”,
Neuroimage, Volume 70, pp. 410-422, 15 April 2013.
DOI: 10.1016/j.neuroimage.2012.12.051</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="reec6aab2e439-2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[2]</td><td><em>(<a class="fn-backref" href="#id2">1</a>, <a class="fn-backref" href="#id6">2</a>)</em> A. Gramfort, D. Strohmeier, J. Haueisen, M. Hamalainen, M. Kowalski
“Functional Brain Imaging with M/EEG Using Structured Sparsity in
Time-Frequency Dictionaries”,
Proceedings Information Processing in Medical Imaging
Lecture Notes in Computer Science, Volume 6801/2011, pp. 600-611, 2011.
DOI: 10.1007/978-3-642-22092-0_49</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="reec6aab2e439-3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[3]</td><td><em>(<a class="fn-backref" href="#id3">1</a>, <a class="fn-backref" href="#id4">2</a>, <a class="fn-backref" href="#id7">3</a>)</em> Y. Bekhti, D. Strohmeier, M. Jas, R. Badeau, A. Gramfort.
“M/EEG source localization with multiscale time-frequency dictionaries”,
6th International Workshop on Pattern Recognition in Neuroimaging
(PRNI), 2016.
DOI: 10.1109/PRNI.2016.7552337</td></tr>
</tbody>
</table>
</dd></dl>

<div class="section" id="examples-using-mne-inverse-sparse-tf-mixed-norm">
<h2>Examples using <code class="docutils literal notranslate"><span class="pre">mne.inverse_sparse.tf_mixed_norm</span></code><a class="headerlink" href="#examples-using-mne-inverse-sparse-tf-mixed-norm" title="Permalink to this headline">¶</a></h2>
<div class="sphx-glr-thumbcontainer" tooltip="The TF-MxNE solver is a distributed inverse method (like dSPM or sLORETA) that promotes focal (..."><div class="figure" id="id8">
<img alt="../_images/sphx_glr_plot_time_frequency_mixed_norm_inverse_thumb.png" src="../_images/sphx_glr_plot_time_frequency_mixed_norm_inverse_thumb.png" />
<p class="caption"><span class="caption-text"><a class="reference internal" href="../auto_examples/inverse/plot_time_frequency_mixed_norm_inverse.html#sphx-glr-auto-examples-inverse-plot-time-frequency-mixed-norm-inverse-py"><span class="std std-ref">Compute MxNE with time-frequency sparse prior</span></a></span></p>
</div>
</div><div style='clear:both'></div></div>
</div>


    </div>
    
  </div>
</div>
<footer class="footer">
  <div class="container"><img src="../_static/institutions.png" alt="Institutions"></div>
  <div class="container">
    <ul class="list-inline">
      <li><a href="https://github.com/mne-tools/mne-python">GitHub</a></li>
      <li>·</li>
      <li><a href="https://mail.nmr.mgh.harvard.edu/mailman/listinfo/mne_analysis">Mailing list</a></li>
      <li>·</li>
      <li><a href="https://gitter.im/mne-tools/mne-python">Gitter</a></li>
      <li>·</li>
      <li><a href="whats_new.html">What's new</a></li>
      <li>·</li>
      <li><a href="faq.html#cite">Cite MNE</a></li>
      <li class="pull-right"><a href="#">Back to top</a></li>
    </ul>
    <p>&copy; Copyright 2012-2018, MNE Developers. Last updated on 2018-06-24.</p>
  </div>
</footer>
<script src="https://mne.tools/versionwarning.js"></script>
  </body>
</html>