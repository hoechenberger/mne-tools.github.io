<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Importing data into MNE &#8212; MNE 0.16.1 documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />

    <script type="text/javascript" src="../_static/copybutton.js"></script>


    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37225609-1']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>


    <link rel="stylesheet" href="../_static/style.css " type="text/css" />
    <link rel="stylesheet" href="../_static/font-awesome.css" type="text/css" />
    <link rel="stylesheet" href="../_static/flag-icon.css" type="text/css" />



    <script type="text/javascript">
    !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);
    js.id=id;js.src="https://platform.twitter.com/widgets.js";
    fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
    </script>



    <script type="text/javascript">
    (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
    })();
    </script>


  <link rel="canonical" href="https://mne.tools/stable/index.html" />
</head><body>





  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><span><img src="../_static/mne_logo_small.png"></span>
           </a>
        <span class="navbar-text navbar-version pull-left"><b>0.16.1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../getting_started.html">Install</a></li>
                <li><a href="../documentation.html">Documentation</a></li>
                <li><a href="../python_reference.html">API</a></li>
                <li><a href="../auto_examples/index.html">Examples</a></li>
                <li><a href="../contributing.html">Contribute</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
            
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
<div class="navbar-form navbar-right navbar-btn dropdown btn-group-sm" style="margin-left: 20px; margin-top: 5px; margin-bottom: 5px">
  <button type="button" class="btn btn-primary navbar-btn dropdown-toggle" id="dropdownMenu1" data-toggle="dropdown">
    v0.16.1
    <span class="caret"></span>
  </button>
  <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
    <li><a href="https://mne-tools.github.io/dev/index.html">Development</a></li>
    <li><a href="https://mne-tools.github.io/stable/index.html">v0.16 (stable)</a></li>
    <li><a href="https://mne-tools.github.io/0.15/index.html">v0.15</a></li>
    <li><a href="https://mne-tools.github.io/0.14/index.html">v0.14</a></li>
    <li><a href="https://mne-tools.github.io/0.13/index.html">v0.13</a></li>
    <li><a href="https://mne-tools.github.io/0.12/index.html">v0.12</a></li>
    <li><a href="https://mne-tools.github.io/0.11/index.html">v0.11</a></li>
  </ul>
</div>


            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          

        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/mne_logo_small.png" alt="Logo"/>
            </a></p><ul>
<li><a class="reference internal" href="#">Importing data into MNE</a><ul>
<li><a class="reference internal" href="#importing-meg-data">Importing MEG data</a><ul>
<li><a class="reference internal" href="#elekta-neuromag-fif">Elekta NeuroMag (.fif)</a></li>
<li><a class="reference internal" href="#importing-4-d-neuroimaging-bti-data">Importing 4-D Neuroimaging / BTI data</a><ul>
<li><a class="reference internal" href="#creating-software-gradient-compensation-data">Creating software gradient compensation data</a></li>
</ul>
</li>
<li><a class="reference internal" href="#importing-ctf-data">Importing CTF data</a></li>
<li><a class="reference internal" href="#importing-ctf-polhemus-data">Importing CTF Polhemus data</a><ul>
<li><a class="reference internal" href="#applying-software-gradient-compensation">Applying software gradient compensation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#importing-kit-meg-system-data">Importing KIT MEG system data</a></li>
</ul>
</li>
<li><a class="reference internal" href="#importing-eeg-data">Importing EEG data</a><ul>
<li><a class="reference internal" href="#brainvision-vhdr">Brainvision (.vhdr)</a></li>
<li><a class="reference internal" href="#european-data-format-edf">European data format (.edf)</a></li>
<li><a class="reference internal" href="#biosemi-data-format-bdf">Biosemi data format (.bdf)</a></li>
<li><a class="reference internal" href="#general-data-format-gdf">General data format (.gdf)</a></li>
<li><a class="reference internal" href="#neuroscan-cnt-data-format-cnt">Neuroscan CNT data format (.cnt)</a></li>
<li><a class="reference internal" href="#egi-simple-binary-egi">EGI simple binary (.egi)</a></li>
<li><a class="reference internal" href="#eeglab-set-files-set">EEGLAB set files (.set)</a></li>
<li><a class="reference internal" href="#importing-eeg-data-saved-in-the-tufts-university-format">Importing EEG data saved in the Tufts University format</a></li>
<li><a class="reference internal" href="#eximia-eeg-data">eXimia EEG data</a></li>
</ul>
</li>
<li><a class="reference internal" href="#setting-eeg-references">Setting EEG references</a></li>
<li><a class="reference internal" href="#reading-electrode-locations-and-headshapes-for-eeg-recordings">Reading Electrode locations and Headshapes for EEG recordings</a></li>
<li><a class="reference internal" href="#creating-mne-data-structures-from-arbitrary-data-from-memory">Creating MNE data structures from arbitrary data (from memory)</a></li>
</ul>
</li>
</ul>

<form action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="col-md-12 content">
      
  <div class="contents local topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#importing-data-into-mne" id="id1">Importing data into MNE</a><ul>
<li><a class="reference internal" href="#importing-meg-data" id="id2">Importing MEG data</a></li>
<li><a class="reference internal" href="#importing-eeg-data" id="id3">Importing EEG data</a></li>
<li><a class="reference internal" href="#setting-eeg-references" id="id4">Setting EEG references</a></li>
<li><a class="reference internal" href="#reading-electrode-locations-and-headshapes-for-eeg-recordings" id="id5">Reading Electrode locations and Headshapes for EEG recordings</a></li>
<li><a class="reference internal" href="#creating-mne-data-structures-from-arbitrary-data-from-memory" id="id6">Creating MNE data structures from arbitrary data (from memory)</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="importing-data-into-mne">
<span id="ch-convert"></span><h1><a class="toc-backref" href="#id1">Importing data into MNE</a><a class="headerlink" href="#importing-data-into-mne" title="Permalink to this headline">¶</a></h1>
<p>This guide covers how to import data into MNE python. It includes instructions
for importing from common recording equipment in MEG and EEG, as well as how
to import raw data from numpy arrays.</p>
<div class="section" id="importing-meg-data">
<h2><a class="toc-backref" href="#id2">Importing MEG data</a><a class="headerlink" href="#importing-meg-data" title="Permalink to this headline">¶</a></h2>
<p>This section describes the data reading and conversion utilities included
with the MNE software. The cheatsheet below summarizes the different
file formats supported by MNE software.</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="21%" />
<col width="8%" />
<col width="56%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Datatype</th>
<th class="head">File format</th>
<th class="head">Extension</th>
<th class="head">MNE-Python function</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>MEG</td>
<td>Elekta Neuromag</td>
<td>.fif</td>
<td><a class="reference internal" href="../generated/mne.io.read_raw_fif.html#mne.io.read_raw_fif" title="mne.io.read_raw_fif"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.io.read_raw_fif()</span></code></a></td>
</tr>
<tr class="row-odd"><td>MEG</td>
<td>4-D Neuroimaging / BTI</td>
<td>dir</td>
<td><a class="reference internal" href="../generated/mne.io.read_raw_bti.html#mne.io.read_raw_bti" title="mne.io.read_raw_bti"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.io.read_raw_bti()</span></code></a></td>
</tr>
<tr class="row-even"><td>MEG</td>
<td>CTF</td>
<td>dir</td>
<td><a class="reference internal" href="../generated/mne.io.read_raw_ctf.html#mne.io.read_raw_ctf" title="mne.io.read_raw_ctf"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.io.read_raw_ctf()</span></code></a></td>
</tr>
<tr class="row-odd"><td>MEG</td>
<td>KIT</td>
<td>sqd</td>
<td><a class="reference internal" href="../generated/mne.io.read_raw_kit.html#mne.io.read_raw_kit" title="mne.io.read_raw_kit"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.io.read_raw_kit()</span></code></a> and <a class="reference internal" href="../generated/mne.read_epochs_kit.html#mne.read_epochs_kit" title="mne.read_epochs_kit"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.read_epochs_kit()</span></code></a></td>
</tr>
<tr class="row-even"><td>EEG</td>
<td>Brainvision</td>
<td>.vhdr</td>
<td><a class="reference internal" href="../generated/mne.io.read_raw_brainvision.html#mne.io.read_raw_brainvision" title="mne.io.read_raw_brainvision"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.io.read_raw_brainvision()</span></code></a></td>
</tr>
<tr class="row-odd"><td>EEG</td>
<td>Neuroscan CNT</td>
<td>.cnt</td>
<td><a class="reference internal" href="../generated/mne.io.read_raw_cnt.html#mne.io.read_raw_cnt" title="mne.io.read_raw_cnt"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.io.read_raw_cnt()</span></code></a></td>
</tr>
<tr class="row-even"><td>EEG</td>
<td>European data format</td>
<td>.edf</td>
<td><a class="reference internal" href="../generated/mne.io.read_raw_edf.html#mne.io.read_raw_edf" title="mne.io.read_raw_edf"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.io.read_raw_edf()</span></code></a></td>
</tr>
<tr class="row-odd"><td>EEG</td>
<td>Biosemi data format</td>
<td>.bdf</td>
<td><a class="reference internal" href="../generated/mne.io.read_raw_edf.html#mne.io.read_raw_edf" title="mne.io.read_raw_edf"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.io.read_raw_edf()</span></code></a></td>
</tr>
<tr class="row-even"><td>EEG</td>
<td>General data format</td>
<td>.gdf</td>
<td><a class="reference internal" href="../generated/mne.io.read_raw_edf.html#mne.io.read_raw_edf" title="mne.io.read_raw_edf"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.io.read_raw_edf()</span></code></a></td>
</tr>
<tr class="row-odd"><td>EEG</td>
<td>EGI simple binary</td>
<td>.egi</td>
<td><a class="reference internal" href="../generated/mne.io.read_raw_egi.html#mne.io.read_raw_egi" title="mne.io.read_raw_egi"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.io.read_raw_egi()</span></code></a></td>
</tr>
<tr class="row-even"><td>EEG</td>
<td>EGI MFF format</td>
<td>.mff</td>
<td><a class="reference internal" href="../generated/mne.io.read_raw_egi.html#mne.io.read_raw_egi" title="mne.io.read_raw_egi"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.io.read_raw_egi()</span></code></a></td>
</tr>
<tr class="row-odd"><td>EEG</td>
<td>EEGLAB</td>
<td>.set</td>
<td><a class="reference internal" href="../generated/mne.io.read_raw_eeglab.html#mne.io.read_raw_eeglab" title="mne.io.read_raw_eeglab"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.io.read_raw_eeglab()</span></code></a> and <a class="reference internal" href="../generated/mne.read_epochs_eeglab.html#mne.read_epochs_eeglab" title="mne.read_epochs_eeglab"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.read_epochs_eeglab()</span></code></a></td>
</tr>
<tr class="row-even"><td>EEG</td>
<td>eXimia</td>
<td>.nxe</td>
<td><a class="reference internal" href="../generated/mne.io.read_raw_eximia.html#mne.io.read_raw_eximia" title="mne.io.read_raw_eximia"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.io.read_raw_eximia()</span></code></a></td>
</tr>
<tr class="row-odd"><td>Electrode locations</td>
<td>elc, txt, csd, sfp, htps</td>
<td>Misc</td>
<td><a class="reference internal" href="../generated/mne.channels.read_montage.html#mne.channels.read_montage" title="mne.channels.read_montage"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.channels.read_montage()</span></code></a></td>
</tr>
<tr class="row-even"><td>Electrode locations</td>
<td>EEGLAB loc, locs, eloc</td>
<td>Misc</td>
<td><a class="reference internal" href="../generated/mne.channels.read_montage.html#mne.channels.read_montage" title="mne.channels.read_montage"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.channels.read_montage()</span></code></a></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All IO functions in MNE-Python performing reading/conversion of MEG and
EEG data can be found in <a class="reference internal" href="../python_reference.html#module-mne.io" title="mne.io"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mne.io</span></code></a> and start with <cite>read_raw_</cite>. All
supported data formats can be read in MNE-Python directly without first
saving it to fif.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Irrespective of the units used in your manufacturer’s format, MNE-Python
will always use the units listed below and perform conversions during the
IO procedure if necessary.</p>
<ul class="last simple">
<li>V: eeg, eog, seeg, emg, ecg, bio, ecog</li>
<li>T: mag</li>
<li>T/m: grad</li>
<li>M: hbo, hbr</li>
<li>Am: dipole</li>
<li>AU: misc</li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>MNE-Python performs all computation in memory using the double-precision
64-bit floating point format. This means that the data is typecasted into
<cite>float64</cite> format as soon as it is read into memory. The reason for this is
that operations such as filtering, preprocessing etc. are more accurate when
using the double-precision format. However, for backward compatibility, it
writes the <cite>fif</cite> files in a 32-bit format by default. This is advantageous
when saving data to disk as it consumes less space.</p>
<p>However, if the users save intermediate results to disk, they should be aware
that this may lead to loss in precision. The reason is that writing to disk is
32-bit by default and then typecasting to 64-bit does not recover the lost
precision. In case you would like to retain the 64-bit accuracy, there are two
possibilities:</p>
<ul class="last simple">
<li>Chain the operations in memory and not save intermediate results</li>
<li>Save intermediate results but change the <code class="docutils literal notranslate"><span class="pre">dtype</span></code> used for saving. However,
this may render the files unreadable in other software packages</li>
</ul>
</div>
<div class="section" id="elekta-neuromag-fif">
<h3>Elekta NeuroMag (.fif)<a class="headerlink" href="#elekta-neuromag-fif" title="Permalink to this headline">¶</a></h3>
<p>Neuromag Raw FIF files can be loaded using <a class="reference internal" href="../generated/mne.io.read_raw_fif.html#mne.io.read_raw_fif" title="mne.io.read_raw_fif"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.io.read_raw_fif()</span></code></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the data were recorded with MaxShield on and have not been processed
with MaxFilter, they may need to be loaded with
<code class="docutils literal notranslate"><span class="pre">mne.io.read_raw_fif(...,</span> <span class="pre">allow_maxshield=True)</span></code>.</p>
</div>
</div>
<div class="section" id="importing-4-d-neuroimaging-bti-data">
<h3>Importing 4-D Neuroimaging / BTI data<a class="headerlink" href="#importing-4-d-neuroimaging-bti-data" title="Permalink to this headline">¶</a></h3>
<p>MNE-Python includes the <a class="reference internal" href="../generated/mne.io.read_raw_bti.html#mne.io.read_raw_bti" title="mne.io.read_raw_bti"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.io.read_raw_bti()</span></code></a> to read and convert 4D / BTI data.
This reader function will by default replace the original channel names,
typically composed of the letter <cite>A</cite> and the channel number with Neuromag.
To import the data, the following input files are mandatory:</p>
<ul class="simple">
<li>A data file (typically c,rfDC)
containing the recorded MEG time-series.</li>
<li>A hs_file
containing the digitizer data.</li>
<li>A config file
containing acquisition information and metadata.</li>
</ul>
<p>By default <a class="reference internal" href="../generated/mne.io.read_raw_bti.html#mne.io.read_raw_bti" title="mne.io.read_raw_bti"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.io.read_raw_bti()</span></code></a> assumes these three files to be located
in the same folder.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">While reading the reference or compensation channels,
currently, the compensation weights are not processed.
As a result, the <a class="reference internal" href="../generated/mne.io.Raw.html#mne.io.Raw" title="mne.io.Raw"><code class="xref py py-class docutils literal notranslate"><span class="pre">mne.io.Raw</span></code></a> object and the corresponding fif
file does not include information about the compensation channels
and the weights to be applied to realize software gradient
compensation. To augment the Magnes fif files with the necessary
information, the command line tools include the utilities
<a class="reference internal" href="c_reference.html#mne-create-comp-data"><span class="std std-ref">mne_create_comp_data</span></a>, and <a class="reference internal" href="c_reference.html#mne-add-to-meas-info"><span class="std std-ref">mne_add_to_meas_info</span></a>.
Including the compensation channel data is recommended but not
mandatory. If the data are saved in the Magnes system are already
compensated, there will be a small error in the forward calculations
whose significance has not been evaluated carefully at this time.</p>
</div>
<div class="section" id="creating-software-gradient-compensation-data">
<h4>Creating software gradient compensation data<a class="headerlink" href="#creating-software-gradient-compensation-data" title="Permalink to this headline">¶</a></h4>
<p>The utility mne_create_comp_data was
written to create software gradient compensation weight data for
4D Magnes fif files. This utility takes a text file containing the
compensation data as input and writes the corresponding fif file
as output. This file can be merged into the fif file containing
4D Magnes data with the utility <a class="reference internal" href="c_reference.html#mne-add-to-meas-info"><span class="std std-ref">mne_add_to_meas_info</span></a>.
See <a class="reference internal" href="c_reference.html#mne-create-comp-data"><span class="std std-ref">mne_create_comp_data</span></a> for command-line options.</p>
</div>
</div>
<div class="section" id="importing-ctf-data">
<h3>Importing CTF data<a class="headerlink" href="#importing-ctf-data" title="Permalink to this headline">¶</a></h3>
<p>In MNE-Python, <a class="reference internal" href="../generated/mne.io.read_raw_ctf.html#mne.io.read_raw_ctf" title="mne.io.read_raw_ctf"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.io.read_raw_ctf()</span></code></a> can be used to read CTF data.</p>
</div>
<div class="section" id="importing-ctf-polhemus-data">
<h3>Importing CTF Polhemus data<a class="headerlink" href="#importing-ctf-polhemus-data" title="Permalink to this headline">¶</a></h3>
<p>The CTF MEG systems store the Polhemus digitization data
in text files. The utility <a class="reference internal" href="c_reference.html#mne-ctf-dig2fiff"><span class="std std-ref">mne_ctf_dig2fiff</span></a> was
created to convert these data files into the fif and hpts formats.</p>
<div class="section" id="applying-software-gradient-compensation">
<span id="behddfbi"></span><h4>Applying software gradient compensation<a class="headerlink" href="#applying-software-gradient-compensation" title="Permalink to this headline">¶</a></h4>
<p>Since the software gradient compensation employed in CTF
systems is a reversible operation, it is possible to change the
compensation status of CTF data in the data files as desired. This
section contains information about the technical details of the
compensation procedure and a description of mne_compensate_data ,
which is a utility to change the software gradient compensation
state in evoked-response data files.</p>
<p>The fif files containing CTF data converted using the utility mne_ctf2fiff contain
several compensation matrices which are employed to suppress external disturbances
with help of the reference channel data. The reference sensors are
located further away from the brain than the helmet sensors and
are thus measuring mainly the external disturbances rather than magnetic
fields originating in the brain. Most often, a compensation matrix
corresponding to a scheme nicknamed <em>Third-order gradient
compensation</em> is employed.</p>
<p>Let us assume that the data contain <span class="math notranslate nohighlight">\(n_1\)</span> MEG
sensor channels, <span class="math notranslate nohighlight">\(n_2\)</span> reference sensor
channels, and <span class="math notranslate nohighlight">\(n_3\)</span> other channels.
The data from all channels can be concatenated into a single vector</p>
<div class="math notranslate nohighlight">
\[x = [x_1^T x_2^T x_3^T]^T\ ,\]</div>
<p>where <span class="math notranslate nohighlight">\(x_1\)</span>, <span class="math notranslate nohighlight">\(x_2\)</span>,
and <span class="math notranslate nohighlight">\(x_3\)</span> are the data vectors corresponding
to the MEG sensor channels, reference sensor channels, and other
channels, respectively. The data before and after compensation,
denoted here by <span class="math notranslate nohighlight">\(x_{(0)}\)</span> and <span class="math notranslate nohighlight">\(x_{(k)}\)</span>, respectively,
are related by</p>
<div class="math notranslate nohighlight">
\[x_{(k)} = M_{(k)} x_{(0)}\ ,\]</div>
<p>where the composite compensation matrix is</p>
<div class="math notranslate nohighlight">
\[\begin{split}M_{(k)} = \begin{bmatrix}
I_{n_1} &amp; C_{(k)} &amp; 0 \\
0 &amp; I_{n_2} &amp; 0 \\
0 &amp; 0 &amp; I_{n_3}
\end{bmatrix}\ .\end{split}\]</div>
<p>In the above, <span class="math notranslate nohighlight">\(C_{(k)}\)</span> is a <span class="math notranslate nohighlight">\(n_1\)</span> by <span class="math notranslate nohighlight">\(n_2\)</span> compensation
data matrix corresponding to compensation “grade” <span class="math notranslate nohighlight">\(k\)</span>.
It is easy to see that</p>
<div class="math notranslate nohighlight">
\[\begin{split}M_{(k)}^{-1} = \begin{bmatrix}
I_{n_1} &amp; -C_{(k)} &amp; 0 \\
0 &amp; I_{n_2} &amp; 0 \\
0 &amp; 0 &amp; I_{n_3}
\end{bmatrix}\ .\end{split}\]</div>
<p>To convert from compensation grade <span class="math notranslate nohighlight">\(k\)</span> to <span class="math notranslate nohighlight">\(p\)</span> one
can simply multiply the inverse of one compensate compensation matrix
by another and apply the product to the data:</p>
<div class="math notranslate nohighlight">
\[x_{(k)} = M_{(k)} M_{(p)}^{-1} x_{(p)}\ .\]</div>
<p>This operation is performed by <a class="reference internal" href="c_reference.html#mne-compensate-data"><span class="std std-ref">mne_compensate_data</span></a>.</p>
</div>
</div>
<div class="section" id="importing-kit-meg-system-data">
<h3>Importing KIT MEG system data<a class="headerlink" href="#importing-kit-meg-system-data" title="Permalink to this headline">¶</a></h3>
<p>MNE-Python includes the <a class="reference internal" href="../generated/mne.io.read_raw_kit.html#mne.io.read_raw_kit" title="mne.io.read_raw_kit"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.io.read_raw_kit()</span></code></a> and
<a class="reference internal" href="../generated/mne.read_epochs_kit.html#mne.read_epochs_kit" title="mne.read_epochs_kit"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.read_epochs_kit()</span></code></a> to read and convert KIT MEG data.
This reader function will by default replace the original channel names,
which typically with index starting with zero, with ones with an index starting with one.</p>
<p>To import continuous data, only the input .sqd or .con file is needed. For epochs,
an Nx3 matrix containing the event number/corresponding trigger value in the
third column is needed.</p>
<p>The following input files are optional:</p>
<ul class="simple">
<li>A KIT marker file (mrk file) or an array-like
containing the locations of the HPI coils in the MEG device coordinate system.
These data are used together with the elp file to establish the coordinate
transformation between the head and device coordinate systems.</li>
<li>A Polhemus points file (elp file) or an array-like
containing the locations of the fiducials and the head-position
indicator (HPI) coils. These data are usually given in the Polhemus
head coordinate system.</li>
<li>A Polhemus head shape data file (hsp file) or an array-like
containing locations of additional points from the head surface.
These points must be given in the same coordinate system as that
used for the elp file.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The output fif file will use the Neuromag head coordinate system convention, see <a class="reference internal" href="source_localization/forward.html#bjebibai"><span class="std std-ref">The head and device coordinate systems</span></a>. A coordinate transformation between the Polhemus head coordinates and the Neuromag head coordinates is included.</p>
</div>
<p>By default, KIT-157 systems assume the first 157 channels are the MEG channels,
the next 3 channels are the reference compensation channels, and channels 160
onwards are designated as miscellaneous input channels (MISC 001, MISC 002, etc.).
By default, KIT-208 systems assume the first 208 channels are the MEG channels,
the next 16 channels are the reference compensation channels, and channels 224
onwards are designated as miscellaneous input channels (MISC 001, MISC 002, etc.).</p>
<p>In addition, it is possible to synthesize the digital trigger channel (STI 014)
from available analog trigger channel data by specifying the following parameters:</p>
<ul class="simple">
<li>A list of trigger channels (stim) or default triggers with order: ‘&lt;’ | ‘&gt;’
Channel-value correspondence when converting KIT trigger channels to a
Neuromag-style stim channel. By default, we assume the first eight miscellaneous
channels are trigger channels. For ‘&lt;’, the largest values are assigned
to the first channel (little endian; default). For ‘&gt;’, the largest values are
assigned to the last channel (big endian). Can also be specified as a list of
trigger channel indexes.</li>
<li>The trigger channel slope (slope) : ‘+’ | ‘-‘
How to interpret values on KIT trigger channels when synthesizing a
Neuromag-style stim channel. With ‘+’, a positive slope (low-to-high)
is interpreted as an event. With ‘-‘, a negative slope (high-to-low)
is interpreted as an event.</li>
<li>A stimulus threshold (stimthresh) : float
The threshold level for accepting voltage changes in KIT trigger
channels as a trigger event.</li>
</ul>
<p>The synthesized trigger channel data value at sample <span class="math notranslate nohighlight">\(k\)</span> will
be:</p>
<div class="math notranslate nohighlight">
\[s(k) = \sum_{p = 1}^n {t_p(k) 2^{p - 1}}\ ,\]</div>
<p>where <span class="math notranslate nohighlight">\(t_p(k)\)</span> are the thresholded
from the input channel data d_p(k):</p>
<div class="math notranslate nohighlight">
\[\begin{split}t_p(k) = \Bigg\{ \begin{array}{l}
    0 \text{  if  } d_p(k) \leq t\\
    1 \text{  if  } d_p(k) &gt; t
\end{array}\ .\end{split}\]</div>
<p>The threshold value <span class="math notranslate nohighlight">\(t\)</span> can
be adjusted with the <code class="docutils literal notranslate"><span class="pre">stimthresh</span></code> parameter, see below.</p>
</div>
</div>
<div class="section" id="importing-eeg-data">
<h2><a class="toc-backref" href="#id3">Importing EEG data</a><a class="headerlink" href="#importing-eeg-data" title="Permalink to this headline">¶</a></h2>
<p>The MNE package includes various functions and utilities for reading EEG
data and electrode templates.</p>
<div class="section" id="brainvision-vhdr">
<h3>Brainvision (.vhdr)<a class="headerlink" href="#brainvision-vhdr" title="Permalink to this headline">¶</a></h3>
<p>Brainvision EEG files can be read in using <a class="reference internal" href="../generated/mne.io.read_raw_brainvision.html#mne.io.read_raw_brainvision" title="mne.io.read_raw_brainvision"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.io.read_raw_brainvision()</span></code></a>.</p>
</div>
<div class="section" id="european-data-format-edf">
<h3>European data format (.edf)<a class="headerlink" href="#european-data-format-edf" title="Permalink to this headline">¶</a></h3>
<p>EDF and EDF+ files can be read in using <a class="reference internal" href="../generated/mne.io.read_raw_edf.html#mne.io.read_raw_edf" title="mne.io.read_raw_edf"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.io.read_raw_edf()</span></code></a>.</p>
<p><a class="reference external" href="http://www.edfplus.info/specs/edf.html">EDF (European Data Format)</a> and
<a class="reference external" href="http://www.edfplus.info/specs/edfplus.html">EDF+</a> are 16-bit formats.</p>
<p>The EDF+ files may contain an annotation channel which can be used to store
trigger information. The Time-stamped Annotation Lists (TALs) on the
annotation  data can be converted to a trigger channel (STI 014) using an
annotation map file which associates an annotation label with a number on
the trigger channel.</p>
</div>
<div class="section" id="biosemi-data-format-bdf">
<h3>Biosemi data format (.bdf)<a class="headerlink" href="#biosemi-data-format-bdf" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference external" href="http://www.biosemi.com/faq/file_format.htm">BDF format</a> is a 24-bit
variant of the EDF format used by the EEG systems manufactured by a company
called BioSemi. It can also be read in using <a class="reference internal" href="../generated/mne.io.read_raw_edf.html#mne.io.read_raw_edf" title="mne.io.read_raw_edf"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.io.read_raw_edf()</span></code></a>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The data samples in a BDF file are represented in a 3-byte (24-bit) format. Since 3-byte raw data buffers are not presently supported in the fif format these data will be changed to 4-byte integers in the conversion.</p>
</div>
</div>
<div class="section" id="general-data-format-gdf">
<h3>General data format (.gdf)<a class="headerlink" href="#general-data-format-gdf" title="Permalink to this headline">¶</a></h3>
<p>GDF files can be read in using <a class="reference internal" href="../generated/mne.io.read_raw_edf.html#mne.io.read_raw_edf" title="mne.io.read_raw_edf"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.io.read_raw_edf()</span></code></a>.</p>
<p><a class="reference external" href="https://arxiv.org/abs/cs/0608052">GDF (General Data Format)</a> is a flexible
format for biomedical signals, that overcomes some of the limitations of the
EDF format. The original specification (GDF v1) includes a binary header,
and uses an event table. An updated specification (GDF v2) was released in
2011 and adds fields for additional subject-specific information (gender,
age, etc.) and allows storing several physical units and other properties.
Both specifications are supported in MNE.</p>
</div>
<div class="section" id="neuroscan-cnt-data-format-cnt">
<h3>Neuroscan CNT data format (.cnt)<a class="headerlink" href="#neuroscan-cnt-data-format-cnt" title="Permalink to this headline">¶</a></h3>
<p>CNT files can be read in using <a class="reference internal" href="../generated/mne.io.read_raw_cnt.html#mne.io.read_raw_cnt" title="mne.io.read_raw_cnt"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.io.read_raw_cnt()</span></code></a>.
The channel locations can be read from a montage or the file header. If read
from the header, the data channels (channels that are not assigned to EOG, ECG,
EMG or misc) are fit to a sphere and assigned a z-value accordingly. If a
non-data channel does not fit to the sphere, it is assigned a z-value of 0.
See <a class="reference internal" href="source_localization/forward.html#bjebibai"><span class="std std-ref">The head and device coordinate systems</span></a></p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Reading channel locations from the file header may be dangerous, as the
x_coord and y_coord in ELECTLOC section of the header do not necessarily
translate to absolute locations. Furthermore, EEG-electrode locations that
do not fit to a sphere will distort the layout when computing the z-values.
If you are not sure about the channel locations in the header, use of a
montage is encouraged.</p>
</div>
</div>
<div class="section" id="egi-simple-binary-egi">
<h3>EGI simple binary (.egi)<a class="headerlink" href="#egi-simple-binary-egi" title="Permalink to this headline">¶</a></h3>
<p>EGI simple binary files can be read in using <a class="reference internal" href="../generated/mne.io.read_raw_egi.html#mne.io.read_raw_egi" title="mne.io.read_raw_egi"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.io.read_raw_egi()</span></code></a>.
The EGI raw files are simple binary files with a header and can be exported
from using the EGI Netstation acquisition software.</p>
</div>
<div class="section" id="eeglab-set-files-set">
<h3>EEGLAB set files (.set)<a class="headerlink" href="#eeglab-set-files-set" title="Permalink to this headline">¶</a></h3>
<p>EEGLAB .set files can be read in using <a class="reference internal" href="../generated/mne.io.read_raw_eeglab.html#mne.io.read_raw_eeglab" title="mne.io.read_raw_eeglab"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.io.read_raw_eeglab()</span></code></a>
and <a class="reference internal" href="../generated/mne.read_epochs_eeglab.html#mne.read_epochs_eeglab" title="mne.read_epochs_eeglab"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.read_epochs_eeglab()</span></code></a>.</p>
</div>
<div class="section" id="importing-eeg-data-saved-in-the-tufts-university-format">
<h3>Importing EEG data saved in the Tufts University format<a class="headerlink" href="#importing-eeg-data-saved-in-the-tufts-university-format" title="Permalink to this headline">¶</a></h3>
<p>The command line utility <a class="reference internal" href="c_reference.html#mne-tufts2fiff"><span class="std std-ref">mne_tufts2fiff</span></a> was
created in collaboration with Phillip Holcomb and Annette Schmid
from Tufts University to import their EEG data to the MNE software.</p>
<p>The Tufts EEG data is included in three files:</p>
<ul class="simple">
<li>The raw data file containing the acquired
EEG data. The name of this file ends with the suffix <code class="docutils literal notranslate"><span class="pre">.raw</span></code> .</li>
<li>The calibration raw data file. This file contains known calibration
signals and is required to bring the data to physical units. The
name of this file ends with the suffix <code class="docutils literal notranslate"><span class="pre">c.raw</span></code> .</li>
<li>The electrode location information file. The name of this
file ends with the suffix <code class="docutils literal notranslate"><span class="pre">.elp</span></code> .</li>
</ul>
<p>See the options for the command-line utility <a class="reference internal" href="c_reference.html#mne-tufts2fiff"><span class="std std-ref">mne_tufts2fiff</span></a>.</p>
</div>
<div class="section" id="eximia-eeg-data">
<h3>eXimia EEG data<a class="headerlink" href="#eximia-eeg-data" title="Permalink to this headline">¶</a></h3>
<p>EEG data from the Nexstim eXimia system can be read in using the
<a class="reference internal" href="../generated/mne.io.read_raw_eximia.html#mne.io.read_raw_eximia" title="mne.io.read_raw_eximia"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.io.read_raw_eximia()</span></code></a> function.</p>
</div>
</div>
<div class="section" id="setting-eeg-references">
<h2><a class="toc-backref" href="#id4">Setting EEG references</a><a class="headerlink" href="#setting-eeg-references" title="Permalink to this headline">¶</a></h2>
<p>The preferred method for applying an EEG reference in MNE is
<a class="reference internal" href="../generated/mne.set_eeg_reference.html#mne.set_eeg_reference" title="mne.set_eeg_reference"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.set_eeg_reference()</span></code></a>, or equivalent instance methods like
<a class="reference internal" href="../generated/mne.io.Raw.html#mne.io.Raw.set_eeg_reference" title="mne.io.Raw.set_eeg_reference"><code class="xref py py-meth docutils literal notranslate"><span class="pre">raw.set_eeg_reference()</span></code></a>. By default,
an average reference is used. Instead of applying the average reference to
the data directly, an average EEG reference projector is created that is
applied like any other SSP projection operator.</p>
<p>There are also other functions that can be useful for other referencing
operations. See <a class="reference internal" href="../generated/mne.set_bipolar_reference.html#mne.set_bipolar_reference" title="mne.set_bipolar_reference"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.set_bipolar_reference()</span></code></a> and
<a class="reference internal" href="../generated/mne.add_reference_channels.html#mne.add_reference_channels" title="mne.add_reference_channels"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.add_reference_channels()</span></code></a> for more information.</p>
</div>
<div class="section" id="reading-electrode-locations-and-headshapes-for-eeg-recordings">
<h2><a class="toc-backref" href="#id5">Reading Electrode locations and Headshapes for EEG recordings</a><a class="headerlink" href="#reading-electrode-locations-and-headshapes-for-eeg-recordings" title="Permalink to this headline">¶</a></h2>
<p>Some EEG formats (EGI, EDF/EDF+, BDF) neither contain electrode location
information nor head shape digitization information. Therefore, this information
has to be provided separately. For that purpose all readers have a montage
parameter to read locations from standard electrode templates or a polhemus
digitizer file. This can also be done post-hoc using the
<a class="reference internal" href="../generated/mne.io.Raw.html#mne.io.Raw.set_montage" title="mne.io.Raw.set_montage"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.io.Raw.set_montage()</span></code></a> method of the Raw object in memory.</p>
<p>When using the locations of the fiducial points the digitization data
are converted to the MEG head coordinate system employed in the
MNE software, see <a class="reference internal" href="source_localization/forward.html#bjebibai"><span class="std std-ref">The head and device coordinate systems</span></a>.</p>
</div>
<div class="section" id="creating-mne-data-structures-from-arbitrary-data-from-memory">
<h2><a class="toc-backref" href="#id6">Creating MNE data structures from arbitrary data (from memory)</a><a class="headerlink" href="#creating-mne-data-structures-from-arbitrary-data-from-memory" title="Permalink to this headline">¶</a></h2>
<p>Arbitrary (e.g., simulated or manually read in) raw data can be constructed
from memory by making use of <a class="reference internal" href="../generated/mne.io.RawArray.html#mne.io.RawArray" title="mne.io.RawArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">mne.io.RawArray</span></code></a>, <a class="reference internal" href="../generated/mne.EpochsArray.html#mne.EpochsArray" title="mne.EpochsArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">mne.EpochsArray</span></code></a>
or <a class="reference internal" href="../generated/mne.EvokedArray.html#mne.EvokedArray" title="mne.EvokedArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">mne.EvokedArray</span></code></a> in combination with <a class="reference internal" href="../generated/mne.create_info.html#mne.create_info" title="mne.create_info"><code class="xref py py-func docutils literal notranslate"><span class="pre">mne.create_info()</span></code></a>.</p>
<p>This functionality is illustrated in <a class="reference internal" href="../auto_examples/io/plot_objects_from_arrays.html#sphx-glr-auto-examples-io-plot-objects-from-arrays-py"><span class="std std-ref">Creating MNE objects from data arrays</span></a>.
Using 3rd party libraries such as NEO (<a class="reference external" href="https://pythonhosted.org/neo/">https://pythonhosted.org/neo/</a>) in combination
with these functions abundant electrophysiological file formats can be easily loaded
into MNE.</p>
</div>
</div>


    </div>
    
  </div>
</div>
<footer class="footer">
  <div class="container"><img src="../_static/institutions.png" alt="Institutions"></div>
  <div class="container">
    <ul class="list-inline">
      <li><a href="https://github.com/mne-tools/mne-python">GitHub</a></li>
      <li>·</li>
      <li><a href="https://mail.nmr.mgh.harvard.edu/mailman/listinfo/mne_analysis">Mailing list</a></li>
      <li>·</li>
      <li><a href="https://gitter.im/mne-tools/mne-python">Gitter</a></li>
      <li>·</li>
      <li><a href="whats_new.html">What's new</a></li>
      <li>·</li>
      <li><a href="faq.html#cite">Cite MNE</a></li>
      <li class="pull-right"><a href="#">Back to top</a></li>
    </ul>
    <p>&copy; Copyright 2012-2018, MNE Developers. Last updated on 2018-06-24.</p>
  </div>
</footer>
<script src="https://mne.tools/versionwarning.js"></script>
  </body>
</html>